# Maintainer: Eli Schwartz <eschwartz@archlinux.org>

_pkgname=hstspreload
pkgbase=python-hstspreload
pkgname=python-hstspreload
pkgver=2020.10.20
pkgrel=1
pkgdesc="Chromium HSTS Preload list as a Python package (msys)"
arch=('any')
url="https://github.com/sethmlarson/${_pkgname}"
license=('BSD')
depends=('python')
makedepends=('python-setuptools')
#source=("${pkgname}-${pkgver}.tar.gz::${url}/archive/${pkgver}.tar.gz")
source=("https://files.pythonhosted.org/packages/source/${_pkgname:0:1}/${_pkgname}/${_pkgname}-${pkgver}.tar.gz")
sha512sums=('5a6bd4b03fb9742a0d04a8a5da8b33a80f3b5f232a868ae10e43056053d28f79438fe831e368bdc5c94c268856fada655276c789bc7bd27f2ce5a7acea8349e5')
b2sums=('717ee985ba770d4337c0faf3a4883938c9cb6f503cb57cfc28abfce194c4522e0ae3b2f33dea2187027b9fe4f1014fc2170da3c7738cd3d9b2b01b42eee1f0ac')

build() {
    cd "${srcdir}"/${_pkgname}-${pkgver}

    python setup.py build
}

package() {
    cd "${srcdir}"/${_pkgname}-${pkgver}

    python setup.py install --root="${pkgdir}" --optimize=1 --skip-build
    install -Dm644 LICENSE "${pkgdir}"/usr/share/licenses/${pkgname}/LICENSE
}
